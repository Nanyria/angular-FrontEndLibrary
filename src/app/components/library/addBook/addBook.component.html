<div class="sub-header">
Add New Book
</div>

<div class="table-body">
  <div class="row">
    <div class="col-md-12">
      <form [formGroup]="addBookForm" (ngSubmit)="onSubmit()">
        <div *ngIf="addBookForm.invalid && (addBookForm.dirty || addBookForm.touched)" class="text-danger">
          Please correct the errors in the form.
        </div>

        <table class="table">
          <thead class="thead">
            <tr>
              <th class="th">Titel</th>
              <th class="th-2">Författare</th>
              <th class="th">Genre</th>
              <th class="th">Publiceringsår</th>
              <th class="th">Bokbeskrivning</th>
            </tr>
          </thead>
          <tbody class="tbody">
            <tr>
              <td class="td">
                <input id="title" formControlName="title" class="form-control" />
                <div *ngIf="addBookForm.get('title')!.invalid && (addBookForm.get('title')!.dirty || addBookForm.get('title')!.touched)" class="text-danger">
                  Titel måste anges.
                </div>
              </td>
              <td class="td">
                <input id="author" formControlName="author" class="form-control" />
                <div *ngIf="addBookForm.get('author')!.invalid && (addBookForm.get('author')!.dirty || addBookForm.get('author')!.touched)" class="text-danger">
                  Författare måste anges.
                </div>
              </td>
              <td class="td">
                <select id="genre" formControlName="genre" class="form-control">
                  <option value="" disabled>Select genre</option>
                  <option *ngFor="let genre of genreOptions" [value]="genre">{{ GenreDisplayNames[genre] }}</option>
                </select>
                <div *ngIf="addBookForm.get('genre')!.invalid && (addBookForm.get('genre')!.dirty || addBookForm.get('genre')!.touched)" class="text-danger">
                  Genre måste anges.
                </div>
              </td>
              <td class="td">
                <input id="publicationYear" formControlName="publicationYear" class="form-control" />
                <div *ngIf="addBookForm.get('publicationYear')!.invalid && (addBookForm.get('publicationYear')!.dirty || addBookForm.get('publicationYear')!.touched)" class="text-danger">
                  Publiceringsår måste anges.
                </div>
              </td>
              <td class="td">
                <input id="bookDescription" formControlName="bookDescription" class="form-control" />
              </td>
              <td class="td" colspan="2">
                <button type="submit" class="btn btn-primary" [disabled]="addBookForm.invalid">Lägg till</button>
              </td>
            </tr>
          </tbody>
        </table>
      </form>
    </div>
  </div>
</div>

<div>
  <a routerLink="/library">Tillbaka till biblioteket</a>
</div>
